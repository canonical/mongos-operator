{"uid":"ecb1e585ed3f5b2a","name":"test_mongos_tls_disabled","fullName":"tests.integration.tls_tests.test_tls#test_mongos_tls_disabled","historyId":"9af209fa27cfc1717577ff05e4ac2b53","time":{"start":1728612414588,"stop":1728612782705,"duration":368117},"description":"Tests that mongos charm can disable TLS.","descriptionHtml":"<p>Tests that mongos charm can disable TLS.</p>\n","status":"failed","statusMessage":"AssertionError: mongos fails to report TLS inconsistencies.\nassert '' == 'mongos requi...o be enabled.'\n  \n  - mongos requires TLS to be enabled.","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: TResult | None = func()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 242, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/threadexception.py\", line 92, in pytest_runtest_call\n    yield from thread_exception_runtest_hook()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/threadexception.py\", line 68, in thread_exception_runtest_hook\n    yield\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/unraisableexception.py\", line 95, in pytest_runtest_call\n    yield from unraisable_exception_runtest_hook()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/unraisableexception.py\", line 70, in unraisable_exception_runtest_hook\n    yield\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/logging.py\", line 846, in pytest_runtest_call\n    yield from self._runtest_for(item, \"call\")\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/logging.py\", line 829, in _runtest_for\n    yield\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/capture.py\", line 880, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/skipping.py\", line 257, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 174, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mongos-operator/mongos-operator/tests/integration/tls_tests/test_tls.py\", line 83, in test_mongos_tls_disabled\n    assert (\nAssertionError: mongos fails to report TLS inconsistencies.\nassert '' == 'mongos requi...o be enabled.'\n  \n  - mongos requires TLS to be enabled.","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1728610134077,"stop":1728610134077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1728610134077,"stop":1728610134219,"duration":142},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1728610134077,"stop":1728610134077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1728612414588,"stop":1728612414588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests that mongos charm can disable TLS.","status":"failed","statusMessage":"AssertionError: mongos fails to report TLS inconsistencies.\nassert '' == 'mongos requi...o be enabled.'\n  \n  - mongos requires TLS to be enabled.","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: TResult | None = func()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 242, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/threadexception.py\", line 92, in pytest_runtest_call\n    yield from thread_exception_runtest_hook()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/threadexception.py\", line 68, in thread_exception_runtest_hook\n    yield\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/unraisableexception.py\", line 95, in pytest_runtest_call\n    yield from unraisable_exception_runtest_hook()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/unraisableexception.py\", line 70, in unraisable_exception_runtest_hook\n    yield\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/logging.py\", line 846, in pytest_runtest_call\n    yield from self._runtest_for(item, \"call\")\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/logging.py\", line 829, in _runtest_for\n    yield\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/capture.py\", line 880, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/skipping.py\", line 257, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 174, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mongos-operator/mongos-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mongos-operator/mongos-operator/tests/integration/tls_tests/test_tls.py\", line 83, in test_mongos_tls_disabled\n    assert (\nAssertionError: mongos fails to report TLS inconsistencies.\nassert '' == 'mongos requi...o be enabled.'\n  \n  - mongos requires TLS to be enabled.","steps":[],"attachments":[{"uid":"73880db0eea74b86","name":"log","source":"73880db0eea74b86.txt","type":"text/plain","size":300}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1728612782729,"stop":1728612782729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1728612782734,"stop":1728612783042,"duration":308},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1728612783042,"stop":1728612783042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1728612783042,"stop":1728612783042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1728612783042,"stop":1728612783042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.tls_tests"},{"name":"suite","value":"test_tls"},{"name":"host","value":"fv-az700-454"},{"name":"thread","value":"15806-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.tls_tests.test_tls"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c09f66f0f6522ccb","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":55,"unknown":1,"total":60},"items":[{"uid":"71a7b2adb9fa97c9","reportUrl":"../503//#testresult/71a7b2adb9fa97c9","status":"passed","time":{"start":1728526241581,"stop":1728526609468,"duration":367887}},{"uid":"5b19ff5ada01c77b","reportUrl":"../500//#testresult/5b19ff5ada01c77b","status":"passed","time":{"start":1728439567421,"stop":1728439935286,"duration":367865}},{"uid":"348682fe5ba8c753","reportUrl":"../497//#testresult/348682fe5ba8c753","status":"passed","time":{"start":1728353308916,"stop":1728353676660,"duration":367744}},{"uid":"cb9b22f40b559374","reportUrl":"../496//#testresult/cb9b22f40b559374","status":"passed","time":{"start":1728266836592,"stop":1728267204455,"duration":367863}},{"uid":"91f79b4cc28ee246","reportUrl":"../495//#testresult/91f79b4cc28ee246","status":"passed","time":{"start":1728180373745,"stop":1728180741369,"duration":367624}},{"uid":"1d527d6cb20fec73","reportUrl":"../494//#testresult/1d527d6cb20fec73","status":"passed","time":{"start":1728094027961,"stop":1728094395357,"duration":367396}},{"uid":"734f13feeac23b91","reportUrl":"../492//#testresult/734f13feeac23b91","status":"passed","time":{"start":1728007609220,"stop":1728007977069,"duration":367849}},{"uid":"a1c3ca079600d5a3","reportUrl":"../485//#testresult/a1c3ca079600d5a3","status":"unknown","time":{}},{"uid":"2e74efc5095e1777","reportUrl":"../472//#testresult/2e74efc5095e1777","status":"passed","time":{"start":1727834764452,"stop":1727835131870,"duration":367418}},{"uid":"9ab8b43fdc8dbbed","reportUrl":"../469//#testresult/9ab8b43fdc8dbbed","status":"passed","time":{"start":1727748510834,"stop":1727748878842,"duration":368008}},{"uid":"a72da026ad445cc7","reportUrl":"../466//#testresult/a72da026ad445cc7","status":"passed","time":{"start":1727662150958,"stop":1727662518912,"duration":367954}},{"uid":"e62a940e90fee20","reportUrl":"../465//#testresult/e62a940e90fee20","status":"passed","time":{"start":1727575804420,"stop":1727576171921,"duration":367501}},{"uid":"7534d0fd8c64cffb","reportUrl":"../464//#testresult/7534d0fd8c64cffb","status":"passed","time":{"start":1727489284716,"stop":1727489652710,"duration":367994}},{"uid":"dd79b01047240d6e","reportUrl":"../461//#testresult/dd79b01047240d6e","status":"passed","time":{"start":1727402902659,"stop":1727403271007,"duration":368348}},{"uid":"600c1acc8d7a47c6","reportUrl":"../458//#testresult/600c1acc8d7a47c6","status":"passed","time":{"start":1727316571769,"stop":1727316939599,"duration":367830}},{"uid":"286f376ed2c673ab","reportUrl":"../454//#testresult/286f376ed2c673ab","status":"passed","time":{"start":1727230116148,"stop":1727230483628,"duration":367480}},{"uid":"c3468b1487ae43c7","reportUrl":"../453//#testresult/c3468b1487ae43c7","status":"passed","time":{"start":1727143687150,"stop":1727144054729,"duration":367579}},{"uid":"5991553cc2787df0","reportUrl":"../447//#testresult/5991553cc2787df0","status":"passed","time":{"start":1727057293863,"stop":1727057661741,"duration":367878}},{"uid":"7c179656937fb112","reportUrl":"../446//#testresult/7c179656937fb112","status":"passed","time":{"start":1726970879111,"stop":1726971246660,"duration":367549}},{"uid":"6859e8611dd65777","reportUrl":"../445//#testresult/6859e8611dd65777","status":"passed","time":{"start":1726884476012,"stop":1726884843850,"duration":367838}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"ecb1e585ed3f5b2a.json","parameterValues":[]}